#!/usr/bin/env ruby

require_relative '../lib/game'
require_relative '../lib/board'

puts 'Please, type your name, player X: '
player1 = gets.chomp.capitalize!
puts "Now, player O, it's your turn: "
player2 = gets.chomp.capitalize!

puts "Ok, #{player1} and #{player2}, let's start the game!"

class Main < TicTacToe
 def turn
   display_board
   puts 'Please enter a number (1-9):'
   user_input = gets.strip
   index = input_to_index(user_input)
   if valid_move?(index)
    token = current_player
    move(index, token)
   else
    puts "That's an invalid move, try again: "
    turn
   end
 end

 def play
   turn until over?
   display_board
   puts winner ? "Congratulations #{winner}, you WON!" : "It's a DRAW! Do you wanna play again?"
 end
end


TicTacToe.new
game = Main.new
game.play
